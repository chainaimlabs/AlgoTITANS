/* eslint-disable */
/**
 * This file was automatically generated by @algorandfoundation/algokit-client-generator.
 * DO NOT MODIFY IT BY HAND.
 * requires: @algorandfoundation/algokit-utils: ^7
 */
import { type AlgorandClient } from '@algorandfoundation/algokit-utils/types/algorand-client'
import { ABIReturn, AppReturn, SendAppTransactionResult } from '@algorandfoundation/algokit-utils/types/app'
import { Arc56Contract, getArc56ReturnValue, getABIStructFromABITuple } from '@algorandfoundation/algokit-utils/types/app-arc56'
import {
  AppClient as _AppClient,
  AppClientMethodCallParams,
  AppClientParams,
  AppClientBareCallParams,
  CallOnComplete,
  AppClientCompilationParams,
  ResolveAppClientByCreatorAndName,
  ResolveAppClientByNetwork,
  CloneAppClientParams,
} from '@algorandfoundation/algokit-utils/types/app-client'
import { AppFactory as _AppFactory, AppFactoryAppClientParams, AppFactoryResolveAppClientByCreatorAndNameParams, AppFactoryDeployParams, AppFactoryParams, CreateSchema } from '@algorandfoundation/algokit-utils/types/app-factory'
import { TransactionComposer, AppCallMethodCall, AppMethodCallTransactionArgument, SimulateOptions, RawSimulateOptions, SkipSignaturesSimulateOptions } from '@algorandfoundation/algokit-utils/types/composer'
import { SendParams, SendSingleTransactionResult, SendAtomicTransactionComposerResults } from '@algorandfoundation/algokit-utils/types/transaction'
import { Address, encodeAddress, modelsv2, OnApplicationComplete, Transaction, TransactionSigner } from 'algosdk'

export const APP_SPEC: Arc56Contract = {"name":"SimpleCollateralLending","structs":{"ActiveLoan":[{"name":"loanId","type":"uint64"},{"name":"borrower","type":"address"},{"name":"lender","type":"address"},{"name":"collateralAssetId","type":"uint64"},{"name":"principalAmount","type":"uint64"},{"name":"interestRateBps","type":"uint64"},{"name":"repaymentAmount","type":"uint64"},{"name":"dueDate","type":"uint64"},{"name":"fundedTime","type":"uint64"},{"name":"isRepaid","type":"bool"},{"name":"isLiquidated","type":"bool"}],"LoanRequest":[{"name":"loanId","type":"uint64"},{"name":"borrower","type":"address"},{"name":"collateralAssetId","type":"uint64"},{"name":"collateralValue","type":"uint64"},{"name":"requestedAmount","type":"uint64"},{"name":"interestRateBps","type":"uint64"},{"name":"loanDurationDays","type":"uint64"},{"name":"requestTime","type":"uint64"},{"name":"isActive","type":"bool"},{"name":"isFunded","type":"bool"}]},"methods":[{"name":"initialize","args":[{"type":"uint64","name":"usdcAssetId"},{"type":"uint64","name":"registryContractId"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Initialize lending contract","events":[],"recommendations":{}},{"name":"requestLoan","args":[{"type":"uint64","name":"collateralAssetId"},{"type":"uint64","name":"collateralValue"},{"type":"uint64","name":"requestedAmount"},{"type":"uint64","name":"loanDurationDays"},{"type":"axfer","name":"collateralTransfer"}],"returns":{"type":"uint64"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Create loan request (borrower pledges eBL as collateral)\nNow includes risk-based LTV and interest rate calculation","events":[],"recommendations":{}},{"name":"fundLoan","args":[{"type":"uint64","name":"loanId"},{"type":"axfer","name":"usdcPayment"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Fund loan request (lender provides USDC)","events":[],"recommendations":{}},{"name":"repayLoan","args":[{"type":"uint64","name":"loanId"},{"type":"axfer","name":"repayment"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Repay loan (borrower repays USDC + interest)","events":[],"recommendations":{}},{"name":"liquidateLoan","args":[{"type":"uint64","name":"loanId"}],"returns":{"type":"bool"},"actions":{"create":[],"call":["NoOp"]},"readonly":false,"desc":"Liquidate loan (lender claims collateral if overdue)","events":[],"recommendations":{}},{"name":"getLoanRequest","args":[{"type":"uint64","name":"loanId"}],"returns":{"type":"(uint64,address,uint64,uint64,uint64,uint64,uint64,uint64,bool,bool)","struct":"LoanRequest"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Get loan request details","events":[],"recommendations":{}},{"name":"getActiveLoan","args":[{"type":"uint64","name":"loanId"}],"returns":{"type":"(uint64,address,address,uint64,uint64,uint64,uint64,uint64,uint64,bool,bool)","struct":"ActiveLoan"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Get active loan details","events":[],"recommendations":{}},{"name":"getBorrowerLoans","args":[{"type":"address","name":"borrower"}],"returns":{"type":"uint64[]"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Get borrower's loans","events":[],"recommendations":{}},{"name":"getLenderLoans","args":[{"type":"address","name":"lender"}],"returns":{"type":"uint64[]"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Get lender's loans","events":[],"recommendations":{}},{"name":"getRiskBasedLoanTerms","args":[{"type":"uint64","name":"collateralValue"},{"type":"uint64","name":"riskScore"}],"returns":{"type":"(uint64,uint64,uint64)"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Get risk-based loan terms for a collateral asset (read-only)","events":[],"recommendations":{}},{"name":"getLendingStats","args":[],"returns":{"type":"(uint64,uint64,uint64)"},"actions":{"create":[],"call":["NoOp"]},"readonly":true,"desc":"Get lending statistics","events":[],"recommendations":{}}],"arcs":[22,28],"networks":{},"state":{"schema":{"global":{"ints":6,"bytes":0},"local":{"ints":0,"bytes":0}},"keys":{"global":{"nextLoanId":{"keyType":"AVMString","valueType":"AVMUint64","key":"bmV4dExvYW5JZA==","desc":"Global state"},"totalLoansIssued":{"keyType":"AVMString","valueType":"AVMUint64","key":"dG90YWxMb2Fuc0lzc3VlZA=="},"totalVolumeUSDC":{"keyType":"AVMString","valueType":"AVMUint64","key":"dG90YWxWb2x1bWVVU0RD"},"defaultLiquidationRatio":{"keyType":"AVMString","valueType":"AVMUint64","key":"ZGVmYXVsdExpcXVpZGF0aW9uUmF0aW8="},"usdcAssetId":{"keyType":"AVMString","valueType":"AVMUint64","key":"dXNkY0Fzc2V0SWQ="},"registryContractId":{"keyType":"AVMString","valueType":"AVMUint64","key":"cmVnaXN0cnlDb250cmFjdElk"}},"local":{},"box":{}},"maps":{"global":{},"local":{},"box":{"loanRequests":{"keyType":"uint64","valueType":"LoanRequest","desc":"Storage maps","prefix":"cmVxdWVzdHM="},"activeLoans":{"keyType":"uint64","valueType":"ActiveLoan","prefix":"bG9hbnM="},"borrowerLoans":{"keyType":"address","valueType":"uint64[]","prefix":"Ym9ycm93ZXI="},"lenderLoans":{"keyType":"address","valueType":"uint64[]","prefix":"bGVuZGVy"}}}},"bareActions":{"create":["NoOp"],"call":[]},"sourceInfo":{"approval":{"sourceInfo":[{"pc":[1272,1492,1674],"errorMessage":"Active loan not found"},{"pc":[950],"errorMessage":"Already funded"},{"pc":[1303,1524],"errorMessage":"Already liquidated"},{"pc":[1289,1510],"errorMessage":"Already repaid"},{"pc":[851,920,1188,1275,1495,1658,1676,1696,1721],"errorMessage":"Box must have value"},{"pc":[709],"errorMessage":"Collateral asset mismatch"},{"pc":[725],"errorMessage":"Collateral sender mismatch"},{"pc":[984],"errorMessage":"Incorrect funding amount"},{"pc":[1344],"errorMessage":"Incorrect repayment amount"},{"pc":[968,1003,1016,1056,1080,1132,1137,1142,1306,1331,1369,1392,1418,1423,1428,1433,1438,1527,1539,1554,1580,1585,1590,1595,1600,1605],"errorMessage":"Index access is out of bounds"},{"pc":[757],"errorMessage":"Loan duration too long (max 1 year)"},{"pc":[1550],"errorMessage":"Loan not yet overdue"},{"pc":[917,1656],"errorMessage":"Loan request not found"},{"pc":[961],"errorMessage":"Must pay with USDC"},{"pc":[1324],"errorMessage":"Must repay with USDC"},{"pc":[717],"errorMessage":"Must transfer collateral to contract"},{"pc":[732],"errorMessage":"Must transfer entire eBL"},{"pc":[229,250,279,298,317,337,357,382,417,452,495],"errorMessage":"OnCompletion is not NoOp"},{"pc":[1313],"errorMessage":"Only borrower can repay"},{"pc":[626],"errorMessage":"Only creator can initialize"},{"pc":[1534],"errorMessage":"Only lender can liquidate"},{"pc":[1000,1360],"errorMessage":"Payment sender mismatch"},{"pc":[992,1352],"errorMessage":"Payment to wrong address"},{"pc":[936],"errorMessage":"Request inactive"},{"pc":[750],"errorMessage":"Requested amount exceeds risk-based LTV limit"},{"pc":[746],"errorMessage":"Requested amount must be positive"},{"pc":[529],"errorMessage":"can only call when creating"},{"pc":[232,253,282,301,320,340,360,385,420,455,498],"errorMessage":"can only call when not creating"},{"pc":[682,771,959,1053,1214,1224,1322,1366,1766,1772,1777],"errorMessage":"check GlobalState exists"},{"pc":[399,434,481],"errorMessage":"transaction type is axfer"}],"pcOffsetMethod":"none"},"clear":{"sourceInfo":[],"pcOffsetMethod":"none"}},"source":{"approval":"I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDQgNTAwIDk2MSA3MDUKICAgIGJ5dGVjYmxvY2sgMHgxNTFmN2M3NSAweDAwICJuZXh0TG9hbklkIiAidG90YWxMb2Fuc0lzc3VlZCIgInRvdGFsVm9sdW1lVVNEQyIgInVzZGNBc3NldElkIiAibG9hbnMiICJyZXF1ZXN0cyIgImRlZmF1bHRMaXF1aWRhdGlvblJhdGlvIiAiYm9ycm93ZXIiICJsZW5kZXIiIDB4MDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3NpbXBsZV9jb2xsYXRlcmFsX2xlbmRpbmcvU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcuYWxnby50czo1NgogICAgLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gTnVtQXBwQXJncwogICAgYnogbWFpbl9iYXJlX3JvdXRpbmdAMTYKICAgIHB1c2hieXRlc3MgMHhiNWU0Zjc4YyAweDAyNjQyZWFmIDB4ZWFlN2Q3YTYgMHg0NmIxMzIzMCAweDc5ZGM4MzJmIDB4ZmRmNTM0ZjUgMHhiMzllYjEwNSAweGQwZjM3NDc1IDB4NjJjZjg5YmMgMHhhOTdjMGMzOCAweDhhMGE1ZmE5IC8vIG1ldGhvZCAiaW5pdGlhbGl6ZSh1aW50NjQsdWludDY0KWJvb2wiLCBtZXRob2QgInJlcXVlc3RMb2FuKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCxheGZlcil1aW50NjQiLCBtZXRob2QgImZ1bmRMb2FuKHVpbnQ2NCxheGZlcilib29sIiwgbWV0aG9kICJyZXBheUxvYW4odWludDY0LGF4ZmVyKWJvb2wiLCBtZXRob2QgImxpcXVpZGF0ZUxvYW4odWludDY0KWJvb2wiLCBtZXRob2QgImdldExvYW5SZXF1ZXN0KHVpbnQ2NCkodWludDY0LGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsYm9vbCxib29sKSIsIG1ldGhvZCAiZ2V0QWN0aXZlTG9hbih1aW50NjQpKHVpbnQ2NCxhZGRyZXNzLGFkZHJlc3MsdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQsYm9vbCxib29sKSIsIG1ldGhvZCAiZ2V0Qm9ycm93ZXJMb2FucyhhZGRyZXNzKXVpbnQ2NFtdIiwgbWV0aG9kICJnZXRMZW5kZXJMb2FucyhhZGRyZXNzKXVpbnQ2NFtdIiwgbWV0aG9kICJnZXRSaXNrQmFzZWRMb2FuVGVybXModWludDY0LHVpbnQ2NCkodWludDY0LHVpbnQ2NCx1aW50NjQpIiwgbWV0aG9kICJnZXRMZW5kaW5nU3RhdHMoKSh1aW50NjQsdWludDY0LHVpbnQ2NCkiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCBtYWluX2luaXRpYWxpemVfcm91dGVAMyBtYWluX3JlcXVlc3RMb2FuX3JvdXRlQDQgbWFpbl9mdW5kTG9hbl9yb3V0ZUA1IG1haW5fcmVwYXlMb2FuX3JvdXRlQDYgbWFpbl9saXF1aWRhdGVMb2FuX3JvdXRlQDcgbWFpbl9nZXRMb2FuUmVxdWVzdF9yb3V0ZUA4IG1haW5fZ2V0QWN0aXZlTG9hbl9yb3V0ZUA5IG1haW5fZ2V0Qm9ycm93ZXJMb2Fuc19yb3V0ZUAxMCBtYWluX2dldExlbmRlckxvYW5zX3JvdXRlQDExIG1haW5fZ2V0Umlza0Jhc2VkTG9hblRlcm1zX3JvdXRlQDEyIG1haW5fZ2V0TGVuZGluZ1N0YXRzX3JvdXRlQDEzCgptYWluX2FmdGVyX2lmX2Vsc2VAMjA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc2ltcGxlX2NvbGxhdGVyYWxfbGVuZGluZy9TaW1wbGVDb2xsYXRlcmFsTGVuZGluZy5hbGdvLnRzOjU2CiAgICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1wbGVDb2xsYXRlcmFsTGVuZGluZyBleHRlbmRzIENvbnRyYWN0IHsKICAgIGludGNfMCAvLyAwCiAgICByZXR1cm4KCm1haW5fZ2V0TGVuZGluZ1N0YXRzX3JvdXRlQDEzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3NpbXBsZV9jb2xsYXRlcmFsX2xlbmRpbmcvU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcuYWxnby50czo0NjcKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICBjYWxsc3ViIGdldExlbmRpbmdTdGF0cwogICAgY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZ2V0Umlza0Jhc2VkTG9hblRlcm1zX3JvdXRlQDEyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3NpbXBsZV9jb2xsYXRlcmFsX2xlbmRpbmcvU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcuYWxnby50czo0NTEKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvc2ltcGxlX2NvbGxhdGVyYWxfbGVuZGluZy9TaW1wbGVDb2xsYXRlcmFsTGVuZGluZy5hbGdvLnRzOjU2CiAgICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1wbGVDb2xsYXRlcmFsTGVuZGluZyBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zaW1wbGVfY29sbGF0ZXJhbF9sZW5kaW5nL1NpbXBsZUNvbGxhdGVyYWxMZW5kaW5nLmFsZ28udHM6NDUxCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIGNhbGxzdWIgZ2V0Umlza0Jhc2VkTG9hblRlcm1zCiAgICBjb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9nZXRMZW5kZXJMb2Fuc19yb3V0ZUAxMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zaW1wbGVfY29sbGF0ZXJhbF9sZW5kaW5nL1NpbXBsZUNvbGxhdGVyYWxMZW5kaW5nLmFsZ28udHM6NDQwCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3NpbXBsZV9jb2xsYXRlcmFsX2xlbmRpbmcvU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcuYWxnby50czo1NgogICAgLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvc2ltcGxlX2NvbGxhdGVyYWxfbGVuZGluZy9TaW1wbGVDb2xsYXRlcmFsTGVuZGluZy5hbGdvLnRzOjQ0MAogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBjYWxsc3ViIGdldExlbmRlckxvYW5zCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dldEJvcnJvd2VyTG9hbnNfcm91dGVAMTA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc2ltcGxlX2NvbGxhdGVyYWxfbGVuZGluZy9TaW1wbGVDb2xsYXRlcmFsTGVuZGluZy5hbGdvLnRzOjQyOQogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zaW1wbGVfY29sbGF0ZXJhbF9sZW5kaW5nL1NpbXBsZUNvbGxhdGVyYWxMZW5kaW5nLmFsZ28udHM6NTYKICAgIC8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZUNvbGxhdGVyYWxMZW5kaW5nIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL3NpbXBsZV9jb2xsYXRlcmFsX2xlbmRpbmcvU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcuYWxnby50czo0MjkKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgY2FsbHN1YiBnZXRCb3Jyb3dlckxvYW5zCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2dldEFjdGl2ZUxvYW5fcm91dGVAOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zaW1wbGVfY29sbGF0ZXJhbF9sZW5kaW5nL1NpbXBsZUNvbGxhdGVyYWxMZW5kaW5nLmFsZ28udHM6NDIwCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3NpbXBsZV9jb2xsYXRlcmFsX2xlbmRpbmcvU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcuYWxnby50czo1NgogICAgLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc2ltcGxlX2NvbGxhdGVyYWxfbGVuZGluZy9TaW1wbGVDb2xsYXRlcmFsTGVuZGluZy5hbGdvLnRzOjQyMAogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBjYWxsc3ViIGdldEFjdGl2ZUxvYW4KICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCm1haW5fZ2V0TG9hblJlcXVlc3Rfcm91dGVAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zaW1wbGVfY29sbGF0ZXJhbF9sZW5kaW5nL1NpbXBsZUNvbGxhdGVyYWxMZW5kaW5nLmFsZ28udHM6NDExCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3NpbXBsZV9jb2xsYXRlcmFsX2xlbmRpbmcvU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcuYWxnby50czo1NgogICAgLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc2ltcGxlX2NvbGxhdGVyYWxfbGVuZGluZy9TaW1wbGVDb2xsYXRlcmFsTGVuZGluZy5hbGdvLnRzOjQxMQogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICBjYWxsc3ViIGdldExvYW5SZXF1ZXN0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX2xpcXVpZGF0ZUxvYW5fcm91dGVANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zaW1wbGVfY29sbGF0ZXJhbF9sZW5kaW5nL1NpbXBsZUNvbGxhdGVyYWxMZW5kaW5nLmFsZ28udHM6MzQ4CiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL3NpbXBsZV9jb2xsYXRlcmFsX2xlbmRpbmcvU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcuYWxnby50czo1NgogICAgLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvc2ltcGxlX2NvbGxhdGVyYWxfbGVuZGluZy9TaW1wbGVDb2xsYXRlcmFsTGVuZGluZy5hbGdvLnRzOjM0OAogICAgLy8gQGFiaW1ldGhvZCgpCiAgICBjYWxsc3ViIGxpcXVpZGF0ZUxvYW4KICAgIGJ5dGVjXzEgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX3JlcGF5TG9hbl9yb3V0ZUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL3NpbXBsZV9jb2xsYXRlcmFsX2xlbmRpbmcvU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcuYWxnby50czoyOTcKICAgIC8vIEBhYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvc2ltcGxlX2NvbGxhdGVyYWxfbGVuZGluZy9TaW1wbGVDb2xsYXRlcmFsTGVuZGluZy5hbGdvLnRzOjU2CiAgICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1wbGVDb2xsYXRlcmFsTGVuZGluZyBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18yIC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zaW1wbGVfY29sbGF0ZXJhbF9sZW5kaW5nL1NpbXBsZUNvbGxhdGVyYWxMZW5kaW5nLmFsZ28udHM6Mjk3CiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIGNhbGxzdWIgcmVwYXlMb2FuCiAgICBieXRlY18xIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9mdW5kTG9hbl9yb3V0ZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL3NpbXBsZV9jb2xsYXRlcmFsX2xlbmRpbmcvU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcuYWxnby50czoyMjUKICAgIC8vIEBhYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvc2ltcGxlX2NvbGxhdGVyYWxfbGVuZGluZy9TaW1wbGVDb2xsYXRlcmFsTGVuZGluZy5hbGdvLnRzOjU2CiAgICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1wbGVDb2xsYXRlcmFsTGVuZGluZyBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzEgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18yIC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zaW1wbGVfY29sbGF0ZXJhbF9sZW5kaW5nL1NpbXBsZUNvbGxhdGVyYWxMZW5kaW5nLmFsZ28udHM6MjI1CiAgICAvLyBAYWJpbWV0aG9kKCkKICAgIGNhbGxzdWIgZnVuZExvYW4KICAgIGJ5dGVjXzEgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgptYWluX3JlcXVlc3RMb2FuX3JvdXRlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc2ltcGxlX2NvbGxhdGVyYWxfbGVuZGluZy9TaW1wbGVDb2xsYXRlcmFsTGVuZGluZy5hbGdvLnRzOjE2MAogICAgLy8gQGFiaW1ldGhvZCgpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zaW1wbGVfY29sbGF0ZXJhbF9sZW5kaW5nL1NpbXBsZUNvbGxhdGVyYWxMZW5kaW5nLmFsZ28udHM6NTYKICAgIC8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZUNvbGxhdGVyYWxMZW5kaW5nIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgYnRvaQogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzIgLy8gYXhmZXIKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBheGZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL3NpbXBsZV9jb2xsYXRlcmFsX2xlbmRpbmcvU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcuYWxnby50czoxNjAKICAgIC8vIEBhYmltZXRob2QoKQogICAgY2FsbHN1YiByZXF1ZXN0TG9hbgogICAgaXRvYgogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9pbml0aWFsaXplX3JvdXRlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc2ltcGxlX2NvbGxhdGVyYWxfbGVuZGluZy9TaW1wbGVDb2xsYXRlcmFsTGVuZGluZy5hbGdvLnRzOjE0MgogICAgLy8gQGFiaW1ldGhvZCgpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9zaW1wbGVfY29sbGF0ZXJhbF9sZW5kaW5nL1NpbXBsZUNvbGxhdGVyYWxMZW5kaW5nLmFsZ28udHM6NTYKICAgIC8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZUNvbGxhdGVyYWxMZW5kaW5nIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL3NpbXBsZV9jb2xsYXRlcmFsX2xlbmRpbmcvU2ltcGxlQ29sbGF0ZXJhbExlbmRpbmcuYWxnby50czoxNDIKICAgIC8vIEBhYmltZXRob2QoKQogICAgY2FsbHN1YiBpbml0aWFsaXplCiAgICBieXRlY18xIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKbWFpbl9iYXJlX3JvdXRpbmdAMTY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvc2ltcGxlX2NvbGxhdGVyYWxfbGVuZGluZy9TaW1wbGVDb2xsYXRlcmFsTGVuZGluZy5hbGdvLnRzOjU2CiAgICAvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBTaW1wbGVDb2xsYXRlcmFsTGVuZGluZyBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBPbkNvbXBsZXRpb24KICAgIGJueiBtYWluX2FmdGVyX2lmX2Vsc2VAMjAKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICAhCiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIGNyZWF0aW5nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gVHlwZXMgYW5kIGNsYXNzIGNvbnRpbnVlIGJlbG93Li4uCgpleHBvcnQgdHlwZSBBY3RpdmVMb2FuID0gewogIGxvYW5JZDogYmlnaW50CiAgYm9ycm93ZXI6IHN0cmluZwogIGxlbmRlcjogc3RyaW5nCiAgY29sbGF0ZXJhbEFzc2V0SWQ6IGJpZ2ludAogIHByaW5jaXBhbEFtb3VudDogYmlnaW50CiAgaW50ZXJlc3RSYXRlQnBzOiBiaWdpbnQKICByZXBheW1lbnRBbW91bnQ6IGJpZ2ludAogIGR1ZURhdGU6IGJpZ2ludAogIGZ1bmRlZFRpbWU6IGJpZ2ludAogIGlzUmVwYWlkOiBib29sZWFuCiAgaXNMaXF1aWRhdGVkOiBib29sZWFuCn0KCmV4cG9ydCB0eXBlIExvYW5SZXF1ZXN0ID0gewogIGxvYW5JZDogYmlnaW50CiAgYm9ycm93ZXI6IHN0cmluZwogIGNvbGxhdGVyYWxBc3NldElkOiBiaWdpbnQKICBjb2xsYXRlcmFsVmFsdWU6IGJpZ2ludAogIHJlcXVlc3RlZEFtb3VudDogYmlnaW50CiAgaW50ZXJlc3RSYXRlQnBzOiBiaWdpbnQKICBsb2FuRHVyYXRpb25EYXlzOiBiaWdpbnQKICByZXF1ZXN0VGltZTogYmlnaW50CiAgaXNBY3RpdmU6IGJvb2xlYW4KICBpc0Z1bmRlZDogYm9vbGVhbgp9CgpleHBvcnQgdHlwZSBMb2FuVGVybXMgPSB7CiAgbWF4TG9hbkFtb3VudDogYmlnaW50CiAgaW50ZXJlc3RSYXRlOiBiaWdpbnQKICBsdHZSYXRpbzogYmlnaW50Cn0KCi8vIEJhc2ljIGNsYXNzIGltcGxlbWVudGF0aW9uCmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZUNvbGxhdGVyYWxMZW5kaW5nQ2xpZW50IHsKICBwcml2YXRlIGFsZ29yYW5kQ2xpZW50OiBBbGdvcmFuZENsaWVudAogIHByaXZhdGUgYXBwSWQ6IG51bWJlcgoKICBjb25zdHJ1Y3RvcihhbGdvcmFuZENsaWVudDogQWxnb3JhbmRDbGllbnQsIGFwcElkOiBudW1iZXIpIHsKICAgIHRoaXMuYWxnb3JhbmRDbGllbnQgPSBhbGdvcmFuZENsaWVudAogICAgdGhpcy5hcHBJZCA9IGFwcElkCiAgfQp9