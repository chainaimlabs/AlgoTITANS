# How to Integrate Real eBL Smart Contract Creation\n\n## Problem\nYour frontend was creating payment transactions instead of calling the smart contract's `createInstrument` method.\n\n## Solution\nI've created the necessary files to fix this issue. Follow these steps:\n\n## Step 1: Update CarrierDashboard.tsx\n\nAdd these imports at the top of your CarrierDashboard.tsx file:\n\n```typescript\nimport { handleRealBLCreation } from '../integrations/eblIntegration';\nimport { createRealEBLInstrument } from '../services/eblService';\n```\n\n## Step 2: Update the EnhancedBLForm component\n\nFind where you render the `EnhancedBLForm` in your CarrierDashboard and update the `onBLCreated` prop:\n\n```typescript\n<EnhancedBLForm\n  exporterOptions={EXPORTER_OPTIONS}\n  portLoadingOptions={PORT_OF_LOADING_OPTIONS}\n  portDischargeOptions={PORT_OF_DISCHARGE_OPTIONS}\n  // REPLACE THIS LINE:\n  // onBLCreated={your_old_handler}\n  // WITH THIS:\n  onBLCreated={(blData) => handleRealBLCreation(\n    blData, \n    activeAddress, \n    signTransactions, \n    setIsCreatingBL, \n    setCreatedBLs\n  )}\n  onCopyFromShippingInstructions={() => setShippingInstructions(shippingInstructions)}\n  isCreating={isCreatingBL}\n  shippingInstructions={shippingInstructions}\n/>\n```\n\n## Step 3: Verify Your Configuration\n\nMake sure these files exist and are properly configured:\n\n1. ✅ `src/config/appIds.ts` - Contains your TestNet App IDs\n2. ✅ `src/services/eblService.ts` - Smart contract integration\n3. ✅ `src/integrations/eblIntegration.ts` - Updated handler\n\n## Step 4: Test the Integration\n\n1. Start your frontend: `npm run dev`\n2. Go to Carrier Dashboard\n3. Fill out the eBL form\n4. Click \"Create REAL eBL RWA on Algorand Blockchain\"\n\n## What Will Happen\n\nInstead of a simple payment transaction, you'll now see:\n\n**Transaction Type**: Application Call (not Payment)\n**App ID**: 745508602 (TradeInstrumentRegistryV3)\n**Method**: `createInstrument`\n**Result**: \n- Real ASA (Algorand Standard Asset) created\n- Asset owned by exporter address\n- Transaction visible on TestNet explorer\n- Asset ID you can verify\n\n## Expected Transaction Details\n\n```\nAlgoKit React Template wants to sign 1 transaction for TestNet\nTransaction 1:\n**Application Call**\nApp ID: 745508602\nMethod: createInstrument\nFrom: NGSCRH...SG5CRM (Carrier)\nAccounts: [ExporterAddress, ImporterAddress]\nArgs: [instrumentNumber, exporterAddress, importerAddress, cargoDescription, cargoValue, originPort, destinationPort]\n```\n\n## Verification\n\nAfter successful creation:\n1. You'll get a real Transaction ID\n2. You'll get a real Asset ID\n3. You can verify both on TestNet explorer\n4. The asset will be owned by the exporter's address\n\n## Files Created\n\n- ✅ `src/config/appIds.ts` - App ID configuration\n- ✅ `src/services/eblService.ts` - Smart contract service\n- ✅ `src/integrations/eblIntegration.ts` - Integration handler\n\nThis integration replaces the mock payment transactions with real smart contract calls that create actual tokenized eBL assets on Algorand TestNet.\n